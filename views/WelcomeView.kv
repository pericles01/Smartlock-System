#: set backgroundColor "8D6E63"
#: set CardBackgroundColor [35/255,49/255,48/255,1]


<LoginOptionCard>:
    padding: dp(5), dp(5), dp(5), dp(15)
    size_hint: .8, .8
    pos_hint: {"center_x": .5, "center_y": .5}
    orientation: "vertical"
    md_bg_color : CardBackgroundColor
    elevation: 3
    focus_behavior: True
    focus_color: app.theme_cls.primary_light
    unfocus_color: CardBackgroundColor
    shadow_offset: (0, 1)

    MDIconButton:
        id: icon_button
        icon: root.icon_name
        icon_size: "60sp"
        pos_hint: {"center_x": .5, "center_y": .5}
        size_hint: 1, .6
        on_press: root.press_callback(root)

    MDLabel:
        text: root.text_option
        size: self.texture_size
        adaptive_size: True
        color: "2196F3" #Blue
        pos_hint: {"center_x": .5, "center_y": .5}
        bold: True

<ClickableTextFieldRound@MDRelativeLayout>:
    size_hint_y: None
    height: password_field.height
    MDTextField:
        id: password_field
        hint_text : "password *"
        max_text_length: 10
        multiline: False
        mode: "round"
        password : True
        icon_left: "key-variant"
        size_hint_x : None
        width : 220
        pos_hint : {"center_x":.5}

    MDIconButton:
        icon: "eye-off"
        pos_hint: {"center_x": .8,"center_y": .5}
        theme_text_color: "Hint"
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            password_field.password = False if password_field.password is True else True

<WelcomeView>:
    BoxLayout:
        orientation: "vertical"
        AnchorLayout:
            size_hint_y: None
            height: dp(40)
            anchor_x: "right"
            anchor_y: "top"
            padding: dp(15)

            MDFillRoundFlatIconButton:
                icon: "login"
                text: "Login Admin"
                on_press: app.manager.push("login_admin")

        MDLabel:
            text : "Welcome!"
            font_style : 'H5'
            halign : "center"
            size_hint_y: None
            height: dp(40)
            pos_hint: {"center_x": .5, "center_y": .5}

        RelativeLayout:
            MDCard:
                pos_hint : {"center_x":.5,"center_y":.5}
                md_bg_color : CardBackgroundColor
                orientation : "vertical"
                spacing: dp(10)
                padding: dp(10)
                size_hint: .5, .9
                elevation: 4
                shadow_offset: (0, 1)

                MDRelativeLayout:
                    pos_hint : {"center_x":.5,"center_y":.5}
                    size_hint: .7, .3
                    ClickableTextFieldRound:
                        id: pin_field
                        pos_hint : {"center_x":.5,"center_y":.5}

                MDGridLayout:
                    id: numpad
                    cols: 3
                    rows: 4
                    spacing: dp(5)

                MDLabel:
                    id: error_label
                    font_style : 'Subtitle2'
                    text: "* required field"
                    halign : "center"
                    size_hint_y: None
                    height: dp(15)
                    pos_hint: {"center_x": .5, "center_y": .5}
                    theme_text_color: "Error"

                MDRelativeLayout:
                    pos_hint : {"center_x":.5,"center_y":.5}
                    size_hint: .8, .2
                    BoxLayout:
                        spacing: dp(5)
                        CheckBox:
                            id: go2membership
                            pos_hint : {"center_x":.5,"center_y":.5}
                            size_hint_x: .1

                        MDLabel:
                            text : "Go to membership"
                            font_style : 'Subtitle1'
                            halign : "left"

                        MDFillRoundFlatIconButton:
                            pos_hint: {"center_x": .5, "center_y": .5}
                            text: "Login"
                            icon: "login"
                            on_release:
                                root.verify_input_pin(app.manager)

        MDRelativeLayout:
            pos_hint : {"center_x":.5,"center_y":.5}
            size_hint: .7, .4
            BoxLayout:
                spacing: dp(5)
                MDFloatLayout:
                    LoginOptionCard:
                        id: face_recon_login
                        icon_name: "face-recognition"
                        text_option: "Login with Face Recognition"
                        press_callback: root.show_dialog

                MDFloatLayout:
                    LoginOptionCard:
                        id: qrcode_login
                        icon_name: "qrcode-scan"
                        text_option: "Login with QR Code"
                        press_callback: root.show_dialog

